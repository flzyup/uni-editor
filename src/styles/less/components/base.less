// 基础样式
:root {
  // 默认深色主题变量
  --bg: @dark-bg;
  --panel: @dark-panel;
  --muted: @dark-muted;
  --text: @dark-text;
  --border: @dark-border;

  // 全局色彩主题变量
  --global-accent-classic: #7c5cff;
  --global-accent-minimal: #3cc8a6;
  --global-accent-paper: #0f766e;
  --global-accent-ocean: #60a5fa;
  --global-accent-forest: #22c55e;
  --global-accent-sunset: #fb7185;
  --global-accent-grape: #a78bfa;
  --global-accent-slate: #7dd3fc;
  --global-accent-sand: #fbbf24;

  // 默认 accent（classic主题），会被 global-theme-* 类覆盖
  --accent: var(--global-accent-classic);
}

// 浅色主题覆盖
.theme-light {
  --bg: @light-bg;
  --panel: @light-panel;
  --muted: @light-muted;
  --text: @light-text;
  --border: @light-border;
  // accent 将由 global-theme-* 类提供，不在这里覆盖
}

// 全局重置
* {
  box-sizing: border-box;
}

html, body, #app {
  .full-height();
}

body {
  margin: 0;
  font-family: @font-family-base;
  color: var(--text);
  background: var(--bg);
  overflow: hidden; // 防止页面级滚动条闪现
}

// Themed scrollbars
* {
  &::-webkit-scrollbar { width: 10px; height: 10px; }
  &::-webkit-scrollbar-track { background: var(--panel); border-radius: 6px; }
  &::-webkit-scrollbar-thumb { background: var(--border); border-radius: 6px; }
  &::-webkit-scrollbar-thumb:hover { background: color-mix(in srgb, var(--muted) 60%, transparent); }
}

// 容器布局
.container {
  display: grid;
  grid-template-rows: auto 1fr auto;
  min-height: 100dvh;
  background: var(--bg);
}

// 主内容区域
.main {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 0;
  padding: @panel-padding;
  min-height: 0;
  height: calc(100vh - @header-height - @footer-height - 8px);
  overflow: hidden;

  @media (max-width: @tablet-max) {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr auto 1fr;
  }
}

// 面板基础样式
.panel {
  .panel-base();
  .flex-column();
  .full-height();
}

// 编辑器特殊样式
.editor-scope {
  flex: 1;
  min-height: 0;
}

.main > .panel {
  .full-height();
}

// Respect reduced-motion preference
.reduced-motion();
